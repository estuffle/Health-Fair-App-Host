<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Health Screening Guide</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons for aesthetic components -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom styles for mobile-first design */
        :root {
            --primary-color: #2563EB; /* Blue-600 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        /* Custom number input styling */
        input[type="number"] {
            -webkit-appearance: none;
            -moz-appearance: textfield;
        }
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-xl mx-auto bg-white shadow-2xl rounded-xl p-6 md:p-8">
        <!-- Header -->
        <header class="text-center mb-8">
            <div class="text-4xl text-blue-600 mb-2" id="icon-heart"></div>
            <h1 class="text-3xl font-extrabold text-gray-900">Health Screening Guide</h1>
            <p class="text-gray-500 mt-1">Personalized recommendations based on current guidelines.</p>
        </header>

        <!-- Input Form -->
        <div id="input-form">
            <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">Your Profile</h2>
            
            <!-- Age Input -->
            <div class="mb-5 bg-blue-50 p-4 rounded-lg">
                <label for="age" class="block text-sm font-medium text-gray-700 mb-2">How old are you?</label>
                <div class="relative">
                    <input type="number" id="age" name="age" min="1" max="120" placeholder="Enter age" class="w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:outline-none text-lg font-semibold text-blue-800">
                    <span class="absolute right-3 top-3 text-gray-400">years</span>
                </div>
            </div>

            <!-- Sex/Gender Input -->
            <div class="mb-5">
                <label class="block text-sm font-medium text-gray-700 mb-2">Assigned Sex at Birth:</label>
                <div class="flex space-x-4">
                    <label class="inline-flex items-center bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition flex-1 border-2 border-transparent" id="label-male">
                        <input type="radio" name="sex" value="Male" id="sex-male" checked class="form-radio text-blue-600 h-4 w-4">
                        <span class="ml-2 text-gray-700">Male</span>
                    </label>
                    <label class="inline-flex items-center bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition flex-1 border-2 border-transparent" id="label-female">
                        <input type="radio" name="sex" value="Female" id="sex-female" class="form-radio text-blue-600 h-4 w-4">
                        <span class="ml-2 text-gray-700">Female</span>
                    </label>
                </div>
            </div>

            <!-- Risk Factor Inputs -->
            <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">Health Factors</h2>

            <div class="space-y-4">
                <!-- BMI/Weight Risk -->
                <div class="flex items-start bg-gray-50 p-3 rounded-lg border border-gray-100">
                    <input id="bmi-risk" type="checkbox" class="h-6 w-6 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5">
                    <label for="bmi-risk" class="ml-3 text-sm font-medium text-gray-700 flex-1 leading-tight">
                        Overweight or Obese (BMI > 25)
                    </label>
                </div>

                <!-- High Diabetes Risk Factors -->
                <div class="flex items-start bg-gray-50 p-3 rounded-lg border border-gray-100">
                    <input id="diabetes-history" type="checkbox" class="h-6 w-6 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5">
                    <label for="diabetes-history" class="ml-3 text-sm font-medium text-gray-700 flex-1 leading-tight">
                        High risk for Diabetes? (History of pre-diabetes, PCOS, or strong family history)
                    </label>
                </div>

                <!-- Smoking Risk -->
                <div class="flex items-start bg-gray-50 p-3 rounded-lg border border-gray-100">
                    <input id="smoker" type="checkbox" class="h-6 w-6 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5">
                    <label for="smoker" class="ml-3 text-sm font-medium text-gray-700 flex-1 leading-tight">
                        Current smoker, or quit within the last 15 years?
                    </label>
                </div>
            </div>

            <!-- Button to Calculate -->
            <button onclick="calculateRecommendations()" class="mt-8 w-full py-4 px-4 bg-blue-600 text-white text-lg font-bold rounded-xl shadow-lg hover:bg-blue-700 transition duration-150 transform active:scale-95">
                Generate My Health Checklist
            </button>
        </div>

        <!-- Results Area -->
        <div id="results-area" class="mt-10 hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <div class="text-3xl text-green-600 mr-2" id="icon-clipboard-check"></div>
                Recommended Screenings
            </h2>
            <p class="text-gray-600 mb-6">Discuss the following screenings with your healthcare provider:</p>
            
            <div id="recommendation-cards" class="space-y-4">
                <!-- Recommendations will be inserted here -->
            </div>

            <div class="mt-8 p-4 bg-red-50 border border-red-200 rounded-lg">
                <p class="text-xs text-red-800 leading-relaxed font-medium">
                    <span class="font-bold">DISCLAIMER:</span> This tool is for informational purposes only and is based on general USPSTF guidelines. It does not constitute medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.
                </p>
            </div>

            <button onclick="resetForm()" class="mt-6 w-full py-3 px-4 bg-gray-200 text-gray-800 font-bold rounded-xl hover:bg-gray-300 transition duration-150">
                Start Over
            </button>
        </div>

    </div>

    <script type="text/javascript">
        const generateUUID = () => {
            return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>
                (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
            );
        };

        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
        });

        const BOOTHS = {
            'hypertension': { 
                title: 'High Blood Pressure', 
                icon: 'activity', 
                color: 'blue', 
                description: 'Screening recommended for all adults 18 and older. Regular monitoring helps prevent heart disease and stroke.' 
            },
            'diabetes': { 
                title: 'Type 2 Diabetes', 
                icon: 'coffee', 
                color: 'red', 
                description: 'Screening recommended for adults ages 35-70 who are overweight, or younger adults with other health risk factors.' 
            },
            'colon_cancer': { 
                title: 'Colorectal Cancer', 
                icon: 'shield-check', 
                color: 'green', 
                description: 'Screening recommended for adults ages 45-75. Early detection through stool tests or specialized exams improves outcomes.' 
            },
            'smoking_cessation': { 
                title: 'Lung Cancer Screening', 
                icon: 'cigarette-off', 
                color: 'orange', 
                description: 'Annual specialized chest imaging is recommended for adults ages 50-80 who have a history of heavy smoking.' 
            },
            'cervical_cancer': { 
                title: 'Cervical Cancer', 
                icon: 'heart', 
                color: 'pink', 
                description: 'Screening recommended for those with a cervix ages 21-65. Discuss testing intervals and options with your doctor.' 
            },
            'aaa_screening': { 
                title: 'Abdominal Aortic Aneurysm', 
                icon: 'ruler', 
                color: 'indigo', 
                description: 'A one-time ultrasound of the abdomen is recommended for men ages 65-75 who have ever smoked.' 
            },
            'breast_cancer': { 
                title: 'Breast Cancer Screening', 
                icon: 'ribbon', 
                color: 'pink', 
                description: 'Routine mammograms are recommended for women ages 40-74. Earlier screening may be needed based on individual risk.' 
            },
            'prostate_cancer': { 
                title: 'Prostate Cancer Discussion', 
                icon: 'user', 
                color: 'blue', 
                description: 'Men ages 55-69 should talk to their doctor about the risks and benefits of a blood test to check for prostate issues.' 
            }
        };

        function calculateRecommendations() {
            const ageInput = document.getElementById('age');
            const age = parseInt(ageInput.value);

            if (isNaN(age) || age < 1) {
                ageInput.classList.add('border-red-500');
                ageInput.focus();
                return;
            } else {
                ageInput.classList.remove('border-red-500');
            }

            const sex = document.querySelector('input[name="sex"]:checked').value;
            const isSmoker = document.getElementById('smoker').checked;
            const isBMIRisk = document.getElementById('bmi-risk').checked;
            const hasDiabetesHistory = document.getElementById('diabetes-history').checked;

            const recommendations = new Set();
            
            // 1. Hypertension Screening - Universal
            recommendations.add('hypertension');

            // 2. Type 2 Diabetes Screening
            if ((age >= 35 && age <= 70 && isBMIRisk) || hasDiabetesHistory) {
                recommendations.add('diabetes');
            }

            // 3. Colorectal Cancer Screening (45-75)
            if (age >= 45 && age <= 75) {
                recommendations.add('colon_cancer');
            }

            // 4. Lung Cancer Screening (Age 50-80 for smokers)
            if (isSmoker && age >= 50 && age <= 80) {
                recommendations.add('smoking_cessation');
            }

            // 5. Cervical Cancer Screening (Female 21-65)
            if (sex === 'Female' && age >= 21 && age <= 65) {
                recommendations.add('cervical_cancer');
            }

            // 6. Abdominal Aortic Aneurysm (AAA) Screening (Male 65-75, smoker)
            if (sex === 'Male' && age >= 65 && age <= 75 && isSmoker) {
                recommendations.add('aaa_screening');
            }

            // 7. Breast Cancer Screening (Female 40-74)
            if (sex === 'Female' && age >= 40 && age <= 74) {
                recommendations.add('breast_cancer');
            }

            // 8. Prostate Cancer (Male 55-69 - Shared Decision Making)
            if (sex === 'Male' && age >= 55 && age <= 69) {
                recommendations.add('prostate_cancer');
            }

            displayResults(recommendations);
        }

        function displayResults(recommendations) {
            const resultsContainer = document.getElementById('recommendation-cards');
            resultsContainer.innerHTML = '';
            
            recommendations.forEach(key => {
                const card = createBoothCard(key);
                resultsContainer.appendChild(card);
            });
            
            document.getElementById('input-form').classList.add('hidden');
            document.getElementById('results-area').classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function createBoothCard(key) {
            const booth = BOOTHS[key];
            const card = document.createElement('div');
            card.className = `bg-${booth.color}-50 border-l-4 border-${booth.color}-500 p-5 rounded-xl shadow-md flex items-start`;
            card.innerHTML = `
                <div class="text-2xl text-${booth.color}-600 mt-0.5 mr-4" id="icon-${booth.icon}-${generateUUID()}"></div>
                <div>
                    <h3 class="text-lg font-semibold text-${booth.color}-800">${booth.title} Screening</h3>
                    <p class="text-sm text-gray-700">${booth.description}</p>
                </div>
            `;
            setTimeout(() => lucide.createIcons(), 0); 
            return card;
        }

        function resetForm() {
            document.getElementById('input-form').classList.remove('hidden');
            document.getElementById('results-area').classList.add('hidden');
            document.getElementById('age').value = '';
            document.getElementById('smoker').checked = false;
            document.getElementById('bmi-risk').checked = false;
            document.getElementById('diabetes-history').checked = false;
            document.getElementById('sex-male').checked = true;
        }
    </script>
</body>
</html>
